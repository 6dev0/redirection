<script>
    const urlString = window.location.href;
    const url = new URL(urlString);
    const params = url.searchParams;

    const tid = params.get('transactionid');
    const stat = params.get('status');
    let finalSuccess = (stat === 'SUCCESS' || stat === 'true');
    const safeTid = tid ? tid : "ERREUR_JS_NULL_" + Date.now();
    const deeplink = `eurofides://app/home?transactionid=${safeTid}&success=${finalSuccess}`;
    const debugUrl = `https://www.google.com/search?q=DEEPLINK_GENERE_${encodeURIComponent(deeplink)}`;

    window.location.href = deeplink;

    setTimeout(() => {
        window.location.href = debugUrl;
    }, 1000);
</script>
